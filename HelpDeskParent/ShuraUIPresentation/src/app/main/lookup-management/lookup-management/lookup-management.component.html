<form [formGroup]="form" (ngSubmit)="onSubmit(form)" class="mat-white-bg mat-elevation-z4 p-24 mr-24 mb-24" fxLayout="column"
  fxLayoutAlign="start" fxFlex="1 0 auto" name="form">
  <div class="h2 mb-24">Lookup Management</div>
  <mat-form-field fxFlex="100">
    <mat-select (selectionChange)="lookupTypesChange()" placeholder="Lookup Type" [(ngModel)]="selectedLookupType" formControlName="selectedLookupType"
      required>
      <mat-option *ngFor="let item of lookupTypes" [value]="item">
        {{item}}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <table mat-table #table [dataSource]="lookUpDataSource" class="fixed-header" matSort matSortActive="created" matSortDisableClear
    matSortDirection="asc">
    <ng-container *ngFor="let item of displayedColumns" matColumnDef="{{item}}">
      <th mat-header-cell *matHeaderCellDef>{{item}}
        <br/>
        <span *ngIf="item != selectedLookupTypeIdentifire">
          <mat-form-field>
                <input type="text" matInput formControlName="{{item}}" name="{{item}}" required/>
          </mat-form-field>
        </span>
        <span *ngIf="item == selectedLookupTypeIdentifire">
            <a href="javascript:void(0)" (click)="addLookup()" matTooltip="add" matTooltipPosition="above">
                <mat-icon>add</mat-icon>
            </a>
        </span>
      </th>
      <td mat-cell *matCellDef="let row">
        <span *ngIf="item != selectedLookupTypeIdentifire">{{ row[item] }}</span>
        <span *ngIf="item == selectedLookupTypeIdentifire">{{ row[item] }}
          <a href="javascript:void(0)" (click)="updateLookup(row)" matTooltip="Update" matTooltipPosition="above">
            <mat-icon>edit</mat-icon>
          </a>
          <a href="javascript:void(0)" (click)="deleteLookup(row)" matTooltip="Delete" matTooltipPosition="above">
              <mat-icon>delete_outline</mat-icon>
          </a>
        </span>
      </td>
    </ng-container>
    
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</form>